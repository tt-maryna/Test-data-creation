{
	"info": {
		"_postman_id": "09929353-3c0d-4840-8154-8697e335faeb",
		"name": "Run collection with data file",
		"description": "# üìÅ Get started here\n\nThe _Postman Collection Runner_ enables you to run a collection's requests in a specified sequence. It also supports selecting a data file to let you use sets of values in a collection run.\n\nFor each row of data in the input file, Postman will:\n\n- Populate variables for each piece of data.\n    \n- Execute the requests in the collection with access to those variables.\n    \n\nThis powerful feature enables you to perform batch operations with dynamic data.\n\n## üîñ How to use this template\n\n#### Step 1: Prepare the data file\n\nSave the data you want to use in a CSV file. For example, you can save a list of usernames and email addresses.\n\n```\nusername,email\njamilahassan,jamila.hassan123@example.com\nabdoulkone,abdoul.kone456@example.com\njessicakimani,jessica.kimani789@example.com\nmariobalotelli,mario.balotelli234@example.com\nkristianolsson,kristian.olsson567@example.com\njuliapark,julia.park890@example.com\nmohammedali,mohammed.ali1234@example.com\ncarolynwang,carolyn.wang567@example.com\nbenedicteik,ben√©dicte.ik890@example.com\nrafaelcruz,rafael.cruz123@example.com\narjunsingh,arjun.singh456@example.com\nnatashapatel,natasha.patel789@example.com\nsamanthachen,samantha.chen234@example.com\nyoussefaziz,youssef.aziz567@example.com\namalasif,amal.asif890@example.com\nalishamalik,alisha.malik1234@example.com\njuanramirez,juan.ramirez567@example.com\nmarisalopez,marisa.lopez890@example.com\nhenrywang,henry.wang123@example.com\nandreasandersen,andreas.andersen456@example.com\n\n ```\n\n#### Step 2: Select the data file\n\nClick on \"Run\". Select the input data file you created in Step 1 by clicking \"Select File\". Update the other configuration if needed.\n\n<img src=\"https://content.pstmn.io/2720d8ee-6ddb-456e-a292-6ac02bf52dbc/U2NyZWVuc2hvdCAyMDIzLTA0LTEwIGF0IDYuMjcuMDcgUE0ucG5n\">\n\n#### Step 3: Preview the variable names and values\n\nBefore executing the requests, you can preview the variable names and values that will be set from the selected data file. You can consume these variables in requests just like any other variables. For example, you can use them in the URL:\n\n```\nhttps://postman-echo.com/get?username={{username}}\n\n ```\n\nOr in the request body:\n\n``` json\n{\n  username: \"{{username}}\"\n}\n\n ```\n\n#### Step 4: Execute requests using Collection Runner\n\nOnce you have reviewed the variables, you can execute the requests in the collection with the selected data file. Postman will populate variables for each piece of data and execute the requests using those variables.\n\n## ‚ÑπÔ∏è Resources\n\n[Using the Collection Runner](https://learning.postman.com/docs/collections/running-collections/intro-to-collection-runs/)\n\n[Importing data files](https://learning.postman.com/docs/collections/running-collections/working-with-data-files/)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "32782134"
	},
	"variable": [],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Check if we already have a valid token",
					"if (!pm.environment.get('access_token')) {",
					"    console.log('Getting access token...');",
					"    ",
					"    pm.sendRequest({",
					"        url: pm.environment.get('url') + '/' + pm.environment.get('account') + '/auth/oauth2/token',",
					"        method: 'POST',",
					"        header: {",
					"            'Content-Type': 'application/x-www-form-urlencoded'",
					"        },",
					"        body: {",
					"            mode: 'urlencoded',",
					"            urlencoded: [",
					"                {key: 'grant_type', value: 'password'},",
					"                {key: 'username', value: pm.environment.get('username')},",
					"                {key: 'password', value: pm.environment.get('password')},",
					"                {key: 'client_id', value: pm.environment.get('client_id')},",
					"                {key: 'client_secret', value: pm.environment.get('client_secret')}",
					"            ]",
					"        }",
					"    }, function (err, response) {",
					"        if (err) {",
					"            console.log('Error getting token:', err);",
					"        } else if (response.code === 200) {",
					"            var jsonData = response.json();",
					"            pm.environment.set('access_token', jsonData.access_token);",
					"            console.log('Token obtained successfully');",
					"        } else {",
					"            console.log('Failed to get token. Status:', response.code);",
					"        }",
					"    });",
					"}"
				]
			}
		}
	],
	"item": [
		{
			"name": "timetrackings",
			"item": [
				{
					"name": "create",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    // Log the full response body",
									"    console.log(\"Response body:\", pm.response.text());",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "user_id",
									"value": "{{user_id}}",
									"type": "text"
								},
								{
									"key": "task_id",
									"value": "{{task_id}}",
									"type": "text"
								},
								{
									"key": "start_time",
									"value": "{{start_time}}",
									"type": "text"
								},
								{
									"key": "end_time",
									"value": "{{end_time}}",
									"type": "text"
								},
								{
									"key": "start_time_timezone",
									"value": "{{start_time_timezone}}",
									"type": "text"
								},
								{
									"key": "end_time_timezone",
									"value": "{{end_time_timezone}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{url}}/{{account}}/{{version}}/timeTrackings/create/",
							"host": [
								"{{url}}"
							],
							"path": [
								"{{account}}",
								"{{version}}",
								"timeTrackings",
								"create",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "departments",
			"item": [
				{
					"name": "create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "department_name",
									"value": "{{department_name}}",
									"type": "text"
								},
								{
									"key": "mother_id",
									"value": "{{mother_id}}",
									"type": "text"
								},
								{
									"key": "supervisor_id",
									"value": "{{supervisor_id}}",
									"type": "text",
									"disabled": true
								},
								{
									"key": "supervisor_assistant_id",
									"value": "{{supervisor_assistant_id}}",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{url}}/{{account}}/{{version}}/departments/create/",
							"host": [
								"{{url}}"
							],
							"path": [
								"{{account}}",
								"{{version}}",
								"departments",
								"create",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	]
}